<p-toast position="center"></p-toast>
<div style="direction: rtl; text-align: right">
  <form [formGroup]="form" (ngSubmit)="submitForm()" class="w-100 mt-3">
    <div class="p-fluid p-formgrid p-grid">
      <div class="p-field p-col">
        <label for="title">عنوان</label>
        <input id="title" type="text" pInputText formControlName="title" />
        <ul
          class="mt-1 text-right list-inline"
          *ngFor="let error of errorMessages.title"
        >
          <li
            class="font-small text-danger font-title-bold list-inline-item"
            *ngIf="
              form.get('title').hasError(error.type) &&
              (form.get('title').dirty || form.get('title').touched)
            "
          >
            {{ error.message }}
          </li>
        </ul>
      </div>
      <div class="p-fluid p-formgrid p-grid">
        <div class="p-field p-col text-right">
          <label for="date">تاریخ مقاله</label>
          <input id="date" type="date" pInputText formControlName="date" minLength="10" maxLength="10" />
          <ul class="mt-1 text-right list-inline" *ngFor="let error of errorMessages.date">
            <li class="font-small text-danger font-title-bold list-inline-item" *ngIf="
              form.get('date').hasError(error.type) &&
              (form.get('date').dirty || form.get('date').touched) ">
              {{ error.message }}
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="p-fluid p-formgrid p-grid">
      <div class="p-field p-col text-right">
        <label class="d-block"> نویسنده مقاله</label>
        <textarea
          class="form-control"
          formControlName="author"
          id="author"
          rows="3"
        ></textarea>
      </div>
    </div>


    <div class="p-field p-col text-right">
      <label class="d-block"> جزئیات مقاله</label>
      <textarea
        class="form-control"
        formControlName="details"
        id="details"
        rows="7"
      ></textarea>
    </div>
  
    <div class="p-fluid p-formgrid p-grid">
      <div class="p-field p-col text-right">
        <label>آپلود تصویر مقاله<label class="text-danger">*</label>:</label>
        <p-fileUpload
          chooseLabel="انتخاب تصویر"
          uploadLabel="آپلود تصویر"
          cancelLabel="انصراف"
          customUpload="true"
          (uploadHandler)="imageUploader($event)"
          invalidFileSizeMessageDetail="حداکثر سایز فایل 2 مگابایت می باشد"
          invalidFileSizeMessageSummary="اندازه فایل بیش از حد مجاز می باشد"
          accept="image/jpeg,image/png"
          maxFileSize="2000000"
        >
        </p-fileUpload>
        <ul
          class="mt-1 text-right list-inline"
          *ngFor="let error of errorMessages.image"
        >
          <li
            class="font-small text-danger font-weight-bold list-inline-item"
            *ngIf="
              form.get('image').hasError(error.type) &&
              (form.get('image').dirty || form.get('image').touched)
            "
          >
            {{ error.message }}
          </li>
        </ul>
      </div>
    </div>




    <div class="p-fluid p-formgrid p-grid">
      <div class="p-field p-col">
        <label class="d-block">توضیحات تصویر (سئو)</label>
        <textarea
          class="form-control"
          formControlName="imageDescription"
          id="imageDescription"
          rows="3"
        ></textarea>
      </div>
    </div>


    <div class="p-fluid p-formgrid p-grid">
      <div class="p-field p-col">
        <div class="float-left">
          <button
            pButton
            type="submit"
            label="ثبت"
            class="ui-button-success"
            icon="pi pi-check"
            iconPos="left"
            [disabled]="form.invalid"
          ></button>
        </div>
      </div>
    </div>
  </form>
</div>
